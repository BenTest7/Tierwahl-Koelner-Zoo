<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KÃ¶lner Zoo â€“ interaktive Tier-Auswahl</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    html,body{height:100%;margin:0;font-family:Arial,sans-serif;background:#0b1220;color:#fff;}
    .app{height:100%;display:grid;grid-template-columns:320px 1fr;}
    .sidebar{background:#121a2c;padding:15px;overflow:auto;}
    .sidebar h1{font-size:18px;margin:0 0 10px;}
    .list{margin-top:10px;}
    .item{padding:6px;}
    #map{height:100%;}
    button{margin:3px 0;padding:6px;width:100%;cursor:pointer;}
  </style>
</head>
<body>
<div class="app">
  <div class="sidebar">
    <h1>Tiere auswÃ¤hlen</h1>
    <button onclick="showAll()">Alle anzeigen</button>
    <button onclick="hideAll()">Alle ausblenden</button>
    <div class="list" id="animalList"></div>
  </div>
  <div id="map"></div>
</div>

<script>
const animals=[
{id:"elephant",name:"Elefanten",emoji:"ðŸ˜",lat:50.95865,lng:6.97265},
{id:"lion",name:"LÃ¶wen",emoji:"ðŸ¦",lat:50.95905,lng:6.97395},
{id:"giraffe",name:"Giraffen",emoji:"ðŸ¦’",lat:50.95825,lng:6.97465},
{id:"penguin",name:"Pinguine",emoji:"ðŸ§",lat:50.95805,lng:6.97210},
{id:"hippo",name:"Flusspferde",emoji:"ðŸ¦›",lat:50.95755,lng:6.97310}
];

const map=L.map('map').setView([50.95833,6.97333],17);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
maxZoom:19,
attribution:'Â© OpenStreetMap'
}).addTo(map);

const markers={};

animals.forEach(a=>{
const m=L.marker([a.lat,a.lng],{
icon:L.divIcon({html:"<div style='font-size:22px'>"+a.emoji+"</div>"}),
opacity:0
}).addTo(map).bindPopup(a.name);
markers[a.id]=m;
});

const list=document.getElementById("animalList");

animals.forEach(a=>{
const div=document.createElement("div");
div.className="item";
div.innerHTML="<label><input type='checkbox' onchange='toggleAnimal(""+a.id+"",this.checked)'> "+a.emoji+" "+a.name+"</label>";
list.appendChild(div);
});

function toggleAnimal(id,visible){
markers[id].setOpacity(visible?1:0);
}

function showAll(){
animals.forEach(a=>{
markers[a.id].setOpacity(1);
document.querySelectorAll("input").forEach(i=>i.checked=true);
});
}

function hideAll(){
animals.forEach(a=>{
markers[a.id].setOpacity(0);
document.querySelectorAll("input").forEach(i=>i.checked=false);
});
}
</script>
</body>
</html>
